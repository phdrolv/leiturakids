<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <link rel="stylesheet" type="text/css" href="style_jogos.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogos - Leitura Kids</title>
</head>

<body>
    <script>
        // Ir para o topo ao reiniciar a p√°gina
        window.history.scrollRestoration = 'manual';
        window.scrollTo(0, 0);
    </script>
    <!-- Notifica√ß√£o -->
    <div class="notification" id="notification">
        Vamos jogar e aprender! üéÆ
    </div>

    <!-- Header -->
    <header class="header">
        <div class="nav-container">
            <a href="#" class="logo">LeituraKids</a>
            <nav>
                <div class="mobile-menu-wrapper">
                    <ul class="nav-menu">
                        <li><a href="index.html" onclick="showNotification('P√°gina inicial')">In√≠cio</a></li>
                        <li><a href="index.html#about" onclick="showNotification('Sobre n√≥s')">Sobre</a></li>
                        <li><a href="conteudo.html" onclick="showNotification('Conte√∫do educativo')">Tutorial</a></li>
                        <li><a href="conteudo.html" onclick="showNotification('Conte√∫do educativo')">Servi√ßos</a></li>
                        <li><a href="index.html#contact" onclick="showNotification('Entre em contato')">Contato</a></li>
                    </ul>
                </div>
            </nav>
            <button class="hamburger" aria-label="Abrir menu">
                <span class="material-symbols-outlined">menu</span>
            </button>
        </div>
    </header>

    <!-- Menu Vertical -->
    <nav class="side-nav">
        <div class="side-nav-item" onclick="window.location.href='home.html'" onclick="changeSection('perfil')"
            title="Perfil">
            üë§
        </div>
        <div class="side-nav-item" onclick="window.location.href='aulas.html'" onclick="changeSection('aulas')"
            title="Aulas">
            üìö
        </div>
        <div class="side-nav-item" onclick="changeSection('ideias')" title="Ideias">
            üí°
        </div>
        <div class="side-nav-item" onclick="changeSection('atividades')" title="Atividades">
            ‚úèÔ∏è
        </div>
        <div class="side-nav-item" onclick="changeSection('listas')" title="Listas">
            üìã
        </div>
        <div class="side-nav-item active" onclick="window.location.href='jogos.html'" onclick="changeSection('jogos')"
            title="Jogos">
            üéÆ
        </div>
        <div class="side-nav-item" onclick="changeSection('conquistas')" title="Conquistas">
            üèÜ
        </div>
    </nav>

    <!-- Conte√∫do Principal -->
    <main class="main-content">
        <div class="games-container">
            <!-- Cabe√ßalho dos Jogos -->
            <div class="games-header">
                <h1 class="games-title">Jogos Educativos</h1>
                <p class="games-subtitle">Aprenda brincando com jogos divertidos!</p>
            </div>

            <!-- Seletor de Jogos -->
            <div class="game-selector">
                <div class="game-option active" onclick="selectGame(0)">
                    <div class="game-icon">üêæ</div>
                    <div class="game-name">Adivinhe o Animal</div>
                    <div class="game-description">Veja a imagem e escolha o nome correto</div>
                </div>
                <div class="game-option" onclick="selectGame(1)">
                    <div class="game-icon">üß©</div>
                    <div class="game-name">Monte as S√≠labas</div>
                    <div class="game-description">Forme palavras juntando as s√≠labas</div>
                </div>
            </div>

            <!-- Estat√≠sticas -->
            <div class="game-stats">
                <div class="stat-item">
                    <div class="stat-number" id="correct-count">0</div>
                    <div class="stat-label">Acertos</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="total-count">0</div>
                    <div class="stat-label">Tentativas</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="current-question">1</div>
                    <div class="stat-label">Pergunta</div>
                </div>
            </div>

            <!-- Jogo 1: Adivinhe o Animal -->
            <div class="game-area active" id="game-0">
                <div class="game-question">Qual √© o nome deste animal?</div>
                <img class="animal-image" id="animal-image" src="" alt="Animal">
                <div class="options-container" id="options-container">
                    <!-- Op√ß√µes ser√£o geradas via JavaScript -->
                </div>
                <div class="game-message" id="game1-message"></div>
                <button class="reset-btn" onclick="resetCurrentQuestion(0)" style="display: none;" id="reset-btn-0">
                    üîÑ Tentar Novamente
                </button>
            </div>

            <!-- Jogo 2: Monte as S√≠labas -->
            <div class="game-area" id="game-1">
                <div class="game-question">Monte a palavra com as s√≠labas!</div>
                <img class="animal-image" id="syllable-image" src="" alt="Animal">
                <div class="syllables-container" id="syllables-container">
                    <!-- S√≠labas ser√£o geradas via JavaScript -->
                </div>
                <div class="constructed-word" id="constructed-word">
                    Clique nas s√≠labas para formar a palavra
                </div>
                <div class="game-message" id="game2-message"></div>
                <button class="reset-btn" onclick="resetCurrentQuestion(1)" style="display: none;" id="reset-btn-1">
                    üîÑ Tentar Novamente
                </button>
            </div>
        </div>
    </main>

    <script>
        // Mudan√ßa de se√ß√£o no menu vertical
        function changeSection(section) {
            // Remove classe ativa de todos os itens
            document.querySelectorAll('.side-nav-item').forEach(item => {
                item.classList.remove('active');
            });

            // Adiciona classe ativa ao item clicado
            event.target.classList.add('active');

            const sectionNames = {
                'perfil': 'Meu Perfil üë§',
                'aulas': 'Aulas üìö',
                'ideias': 'Novas Ideias üí°',
                'atividades': 'Atividades ‚úèÔ∏è',
                'listas': 'Minhas Listas üìã',
                'jogos': 'Jogos Divertidos üéÆ',
                'conquistas': 'Conquistas üèÜ'
            };

            showNotification(sectionNames[section] || 'Nova se√ß√£o');
        }

        // Menu responsivo
        document.addEventListener("DOMContentLoaded", function () {
            const hamburger = document.querySelector(".hamburger");
            const navMenu = document.querySelector(".nav-menu");

            hamburger.addEventListener("click", () => {
                navMenu.classList.toggle("mobile-active");

                // troca o √≠cone de menu para 'close' e vice-versa
                const icon = hamburger.querySelector(".material-symbols-outlined");
                if (navMenu.classList.contains("mobile-active")) {
                    icon.textContent = "close";
                    hamburger.setAttribute("aria-label", "Fechar menu");
                } else {
                    icon.textContent = "menu";
                    hamburger.setAttribute("aria-label", "Abrir menu");
                }
            });

            // Opcional: fechar menu ao clicar em algum link do menu
            navMenu.querySelectorAll("a").forEach(link => {
                link.addEventListener("click", () => {
                    if (navMenu.classList.contains("mobile-active")) {
                        navMenu.classList.remove("mobile-active");
                        hamburger.querySelector(".material-symbols-outlined").textContent = "menu";
                        hamburger.setAttribute("aria-label", "Abrir menu");
                    }
                });
            });
        });

        let currentGame = 0;
        let currentQuestionIndex = 0;
        let correctAnswers = 0;
        let totalAttempts = 0;
        let currentWordFormed = "";

        // Dados dos jogos
        const game1Data = [
            {
                imagem: "https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=300&h=300&fit=crop",
                correta: "gato",
                opcoes: ["gato", "cachorro", "pato"]
            },
            {
                imagem: "https://images.unsplash.com/photo-1583337130417-3346a1be7dee?w=300&h=300&fit=crop",
                correta: "cachorro",
                opcoes: ["gato", "cachorro", "coelho"]
            },
            {
                imagem: "https://images.unsplash.com/photo-1557804506-669a67965ba0?w=300&h=300&fit=crop",
                correta: "papagaio",
                opcoes: ["papagaio", "le√£o", "peixe"]
            },
            {
                imagem: "https://images.unsplash.com/photo-1546026423-cc4642628d2b?w=300&h=300&fit=crop",
                correta: "pato",
                opcoes: ["pato", "urso", "gato"]
            },
            {
                imagem: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=300&h=300&fit=crop",
                correta: "coelho",
                opcoes: ["coelho", "rato", "porco"]
            }
        ];

        const game2Data = [
            {
                imagem: "https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=300&h=300&fit=crop",
                silabas: ["ga", "to"],
                correta: "gato"
            },
            {
                imagem: "https://images.unsplash.com/photo-1583337130417-3346a1be7dee?w=300&h=300&fit=crop",
                silabas: ["ca", "chor", "ro"],
                correta: "cachorro"
            },
            {
                imagem: "https://images.unsplash.com/photo-1546026423-cc4642628d2b?w=300&h=300&fit=crop",
                silabas: ["pa", "to"],
                correta: "pato"
            },
            {
                imagem: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=300&h=300&fit=crop",
                silabas: ["coe", "lho"],
                correta: "coelho"
            },
            {
                imagem: "https://images.unsplash.com/photo-1557804506-669a67965ba0?w=300&h=300&fit=crop",
                silabas: ["pa", "pa", "gai", "o"],
                correta: "papagaio"
            }
        ];

        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        function selectGame(gameIndex) {
            // Atualizar seletor visual
            document.querySelectorAll('.game-option').forEach((option, index) => {
                option.classList.toggle('active', index === gameIndex);
            });

            // Mostrar jogo selecionado
            document.querySelectorAll('.game-area').forEach((area, index) => {
                area.classList.toggle('active', index === gameIndex);
            });

            currentGame = gameIndex;
            currentQuestionIndex = 0;
            resetStats();
            loadQuestion();
        }

        function resetStats() {
            correctAnswers = 0;
            totalAttempts = 0;
            updateStats();
        }

        function updateStats() {
            document.getElementById('correct-count').textContent = correctAnswers;
            document.getElementById('total-count').textContent = totalAttempts;
            document.getElementById('current-question').textContent = currentQuestionIndex + 1;
        }

        function shuffle(array) {
            return array.sort(() => Math.random() - 0.5);
        }

        function loadQuestion() {
            if (currentGame === 0) {
                loadGame1Question();
            } else {
                loadGame2Question();
            }
            updateStats();
        }

        function loadGame1Question() {
            const question = game1Data[currentQuestionIndex];
            document.getElementById('animal-image').src = question.imagem;
            document.getElementById('game1-message').textContent = '';
            document.getElementById('reset-btn-0').style.display = 'none';

            const container = document.getElementById('options-container');
            container.innerHTML = '';

            const shuffledOptions = shuffle([...question.opcoes]);
            shuffledOptions.forEach(option => {
                const button = document.createElement('button');
                button.className = 'option-btn';
                button.textContent = option;
                button.onclick = () => checkGame1Answer(option, question.correta);
                container.appendChild(button);
            });
        }

        function loadGame2Question() {
            const question = game2Data[currentQuestionIndex];
            document.getElementById('syllable-image').src = question.imagem;
            document.getElementById('game2-message').textContent = '';
            document.getElementById('constructed-word').textContent = 'Clique nas s√≠labas para formar a palavra';
            document.getElementById('reset-btn-1').style.display = 'none';
            currentWordFormed = '';

            const container = document.getElementById('syllables-container');
            container.innerHTML = '';

            const shuffledSyllables = shuffle([...question.silabas]);
            shuffledSyllables.forEach(syllable => {
                const button = document.createElement('button');
                button.className = 'syllable-btn';
                button.textContent = syllable;
                button.onclick = () => addSyllable(syllable, button);
                container.appendChild(button);
            });
        }

        function checkGame1Answer(selected, correct) {
            totalAttempts++;
            const messageEl = document.getElementById('game1-message');
            const buttons = document.querySelectorAll('#options-container .option-btn');

            if (selected === correct) {
                correctAnswers++;
                messageEl.textContent = 'üéâ Parab√©ns! Voc√™ acertou!';
                messageEl.className = 'game-message success-message';

                // Desabilitar todos os bot√µes
                buttons.forEach(btn => btn.disabled = true);

                setTimeout(() => {
                    nextQuestion();
                }, 2000);
            } else {
                messageEl.textContent = '‚ùå Ops! Tente novamente!';
                messageEl.className = 'game-message error-message';

                // Desabilitar todos os bot√µes e mostrar bot√£o de reset
                buttons.forEach(btn => btn.disabled = true);
                document.getElementById('reset-btn-0').style.display = 'block';
            }
            updateStats();
        }

        function addSyllable(syllable, button) {
            currentWordFormed += syllable;
            document.getElementById('constructed-word').textContent = currentWordFormed;
            button.disabled = true;

            const question = game2Data[currentQuestionIndex];
            const messageEl = document.getElementById('game2-message');

            if (currentWordFormed.length >= question.correta.length) {
                totalAttempts++;

                if (currentWordFormed === question.correta) {
                    correctAnswers++;
                    messageEl.textContent = 'üéâ Muito bem! Palavra formada!';
                    messageEl.className = 'game-message success-message';

                    // Desabilitar todos os bot√µes restantes
                    document.querySelectorAll('#syllables-container .syllable-btn').forEach(btn => btn.disabled = true);

                    setTimeout(() => {
                        nextQuestion();
                    }, 2000);
                } else {
                    messageEl.textContent = '‚ùå Palavra incorreta! Tente novamente!';
                    messageEl.className = 'game-message error-message';

                    // Desabilitar todos os bot√µes e mostrar bot√£o de reset
                    document.querySelectorAll('#syllables-container .syllable-btn').forEach(btn => btn.disabled = true);
                    document.getElementById('reset-btn-1').style.display = 'block';
                }
                updateStats();
            }
        }

        function resetCurrentQuestion(gameIndex) {
            if (gameIndex === 0) {
                loadGame1Question();
            } else {
                loadGame2Question();
            }
            showNotification('Vamos tentar novamente! üí™');
        }

        function nextQuestion() {
            const maxQuestions = currentGame === 0 ? game1Data.length : game2Data.length;
            currentQuestionIndex = (currentQuestionIndex + 1) % maxQuestions;

            if (currentQuestionIndex === 0) {
                showNotification('Parab√©ns! Voc√™ completou todas as perguntas! üéä');
                setTimeout(() => {
                    showNotification(`Resultado: ${correctAnswers} acertos em ${totalAttempts} tentativas! üìä`);
                }, 2000);
            }

            loadQuestion();
        }

        function changeSection(section) {
            showNotification(`Navegando para ${section}...`);
        }

        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', () => {
            loadQuestion();
            showNotification('Hora dos jogos! üéØ');
        });
    </script>
</body>

</html>